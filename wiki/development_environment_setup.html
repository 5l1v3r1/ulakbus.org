

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>ULAKBUS</title>

    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="Ulakbus 0.0.1 belgelendirme çalışması" href="wiki.html" />
    <link rel="up" title="Geliştiriciler" href="developers.html" />
    <link rel="next" title="Geliştirme Ortamı Kurulumu(Frontend)" href="ulakbus_user_interface.html" />
    <link rel="prev" title="Ulakbus’e Katkıda Bulunmak" href="git_workflow.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="/img/favicon.ico">

    <title>Ulakbüs</title>
    <link rel="stylesheet"
          href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Bootstrap Core CSS -->
    <link href="_static/css/bootstrap.css" rel="stylesheet">
    <link href="_static/css/style.css" rel="stylesheet">
    <link href="_static/css/roboto/roboto.css" rel="stylesheet">

    <script>
        /**
         * Check an href for an anchor. If exists, and in document, scroll to it.
         * If href argument omitted, assumes context (this) is HTML Element,
         * which will be the case when invoked by jQuery after an event
         */
        function scroll_if_anchor(href) {
            href = typeof(href) == "string" ? href : $(this).attr("href");

            // If href missing, ignore
            if (!href) return;

            // You could easily calculate this dynamically if you prefer
            var fromTop = 100;

            // If our Href points to a valid, non-empty anchor, and is on the same page (e.g. #foo)
            // Legacy jQuery and IE7 may have issues: http://stackoverflow.com/q/1593174
            var $target = $(href);

            // Older browsers without pushState might flicker here, as they momentarily
            // jump to the wrong position (IE < 10)
            if ($target.length) {
                $('html, body').animate({scrollTop: $target.offset().top - fromTop});
                if (history && "pushState" in history) {
                    history.pushState({}, document.title, window.location.pathname + href);
                    return false;
                }
            }
        }

        // When our page loads, check to see if it contains and anchor
        scroll_if_anchor(window.location.hash);

        // Intercept all anchor clicks
        $("body").on("click", "a[href^='#']", scroll_if_anchor);
    </script>
    </head>

    <body id="page-top" data-target=".navbar-fixed-top">
    <nav class="navbar ulakbus-navbar navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="row">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/index.html" class="logo"><img
                            src="http://www.ulakbus.org/ulakbus.png"></a>
                </div>

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav navbar-right main-nav">



                        <li>
                            <a href="http://www.ulakbus.org/hakkinda.html">HAKKINDA</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/wiki.html">BELGELER</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/developers.html">KURULUM</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/destek.html">DESTEK</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/indir.html">İNDİR</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/takip.html">NE OLUYOR?</a>
                        </li>
                        <li>
                            <a href="http://blog.zetaops.io" target="_blank">BLOG</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Fork me on github icons -->
    <a href="https://github.com/zetaops" target="_blank"><img id="forkme"
                                                              src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
                                                              alt="Fork me on GitHub"
                                                              data-canonical-src="_static/forkme_right_red.png"></a>


    <div id="doccontainer">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             accesskey="I">dizin</a></li>
        <li class="right" >
          <a href="ulakbus_user_interface.html" title="Geliştirme Ortamı Kurulumu(Frontend)"
             accesskey="N">sonraki</a> |</li>
        <li class="right" >
          <a href="git_workflow.html" title="Ulakbus’e Katkıda Bulunmak"
             accesskey="P">önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" accesskey="U">Geliştiriciler</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="wiki.html">
              <img class="logo" src="_static/ulakbus.png" alt="Logo"/>
            </a></p>
  <h3><a href="wiki.html">İçindekiler Tablosu</a></h3>
  <ul>
<li><a class="reference internal" href="#">ULAKBUS Geliştirme Ortamının Kurulumu</a><ul>
<li><a class="reference internal" href="#vagrant-box-guncellemek">Vagrant Box Güncellemek</a></li>
<li><a class="reference internal" href="#sonraki-adimlar">Sonraki Adımlar</a></li>
</ul>
</li>
</ul>

  <h4>Önceki konu</h4>
  <p class="topless"><a href="git_workflow.html"
                        title="önceki bölüm">Ulakbus&#8217;e Katkıda Bulunmak</a></p>
  <h4>Sonraki konu</h4>
  <p class="topless"><a href="ulakbus_user_interface.html"
                        title="sonraki bölüm">Geliştirme Ortamı Kurulumu(Frontend)</a></p>
  <div role="note" aria-label="source link">
    <h3>Bu Sayfa</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/development_environment_setup.txt"
            rel="nofollow">Kaynağı Göster</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Hızlı Arama</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Git" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Aranacak terimleri veya modül, sınıf ya da fonksiyon adını yazınız
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ulakbus-gelistirme-ortaminin-kurulumu">
<h1>ULAKBUS Geliştirme Ortamının Kurulumu<a class="headerlink" href="#ulakbus-gelistirme-ortaminin-kurulumu" title="Bu başlığın kalıcı bağlantısı">¶</a></h1>
<p>Ulakbus için geliştirme ortamının kurulması aşağıdaki bileşenlerin herbirinin ayrı ayrı
kurulup yapılandırılmasını kapsar:</p>
<blockquote>
<div><ul class="simple">
<li>Pythton Virtualenv</li>
<li>Riak KV</li>
<li>Zato ESB</li>
<li>Redis</li>
<li>Git CVS</li>
</ul>
</div></blockquote>
<p>Bu servislerin elle kurulumu ve yapılandırılması yeni başlayanlar için biraz karmaşık
gelebilir. Ayrıca biraz uzun bir süreçtir. Bu amaçla hızlı başlangıç için bir
Vagrant[1] box hazırladık. Bunu indirip kullanmaya başlayabilirsiniz:</p>
<p>[1] <a class="reference external" href="https://www.vagrantup.com/">https://www.vagrantup.com/</a></p>
<div class="highlight-python"><div class="highlight"><pre>mkdir ulakbus-devbox
cd ulakbus-devbox
vagrant init zetaops/ulakbus
</pre></div>
</div>
<dl class="docutils">
<dt>Vagrant box(sanal makine, guest) temel olarak iki türlü kullanılabilir:</dt>
<dd><ul class="first last simple">
<li>Vagrant ile yaratılmış sanal makine içinde geliştirme</li>
<li>Sanal makine servislerini kullanarak kendi makinenizde geliştirme</li>
</ul>
</dd>
</dl>
<p>Birincisinde backend sunucusu ve python ortamı box içindedir. Tüm geliştirme işlemleri
box içinden yürütülür.</p>
<p>İkinci kullanımda ise box sadece Riak, Redis ve Zato gibi servisler için kullanılır. Servis
portları Vagrantfile konfigürasyonu ile host makine ile paylaşılır. Böylelikle box içinde
çalışan servislere host makineden erişmek mümkün hale gelir.</p>
<p>Python ortamı ise host makinede (kendi işletim sisteminiz üzerinde) bulunur. Bu hız
ve üretkenlik açısından birincisine göre daha verimlidir. Eğer PyCharm gibi bir IDE
kullanıyorsanız host makinede çalışmak, özellikle detaylı DEBUG için avantajlıdır.</p>
<p>Git depolarınıza her durumda host makine üzerinden erişmenizi öneririz. Host makinedeki
depolarınızı box ile paylaşarak ilgili dizinlere bağlayabilirsiniz. <code class="docutils literal"><span class="pre">`git</span> <span class="pre">pull`</span></code>
<code class="docutils literal"><span class="pre">`git</span> <span class="pre">push`</span></code> gibi git operasyonları da bu durumda host makine üzerinden gerçekleştirilmelidir.</p>
<blockquote>
<div>Host makine üzerindeki bir git deposu üzerinde box içerisinden işlem yaptığınızda doğrulama,
yetkilendirme hataları almanız olasıdır.</div></blockquote>
<p>Hem git depolarının hem de portların nasıl paylaşılacağı aşağıda bağlantısı verilen örnek
Vagrantfile icinde mevcuttur. Bu dosyada çok küçük değişiklikler yaparak istediğiniz gibi
bir vagrant box (sanal makine, guest) elde edebilirsiniz. Örnek Vagrantfile:</p>
<div class="highlight-python"><div class="highlight"><pre>https://raw.githubusercontent.com/zetaops/ulakbus.org/master/source/Vagrantfile.sample
</pre></div>
</div>
<p>Yukarıdaki komutları kullanarak bir box oluşturduğunuzda ilgili dizin altına - örnekte
<code class="docutils literal"><span class="pre">ulakbus-devbox</span></code> - bir Vagranfile yazılır. Bu dosyayı bir text düzenleme aracı ile açıp
düzenleyebilirsiniz.</p>
<p>Port yönlendirmek için Vagrantfile içinde aşağıdaki satırlara benzeyen bölümü bulup, istediğiniz
portları ekleyip çıkarabilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre># config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080
config.vm.network &quot;forwarded_port&quot;, guest: 9001, host: 9001
</pre></div>
</div>
<p>Örnek dosyada hangi portun ne için kullanıldığı yorum satırları olarak eklenmiştir.</p>
<p>Dizinleri paylaşmak için ise Vagrantfile içerisinde aşağıdakine benzeyen bölümleri bulup
düzenleyebilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre># config.vm.synced_folder &quot;../data&quot;, &quot;/vagrant_data&quot;
config.vm.synced_folder &quot;~/dev/zetaops/ulakbus&quot;, &quot;/app/ulakbus&quot;, owner: &quot;ulakbus&quot;, group: &quot;ulakbus&quot;
</pre></div>
</div>
<p>Bu satır host makinenizde kullanıcı dizininiz altında, dev/zetaops/ulakbus yolunda bulunan
<code class="docutils literal"><span class="pre">ulakbus</span></code> dizinini box içerisinde /app/ulakbus yolunda bulunan <code class="docutils literal"><span class="pre">ulakbus</span></code> dizinine bağlar.
Box içindeki dizinin sahibi ve grubunu <code class="docutils literal"><span class="pre">ulakbus</span></code> yapar.</p>
<p>Gerekli düzenlemeleri yaptıktan sonra Vagrantbox <strong>oluşturduğunuz dizin içerisinde</strong> şu komut ile
başlatabilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre>vagrant up
</pre></div>
</div>
<p>Başlayan makineye giriş yapmak için şu komutu kullanabilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre>vagrant ssh
</pre></div>
</div>
<p>Giriş yaptıktan sonra servislerin başlayıp başlamadığını, bağlanan dizinlerin güncel olup
olmadığını kontrol edebilisiniz:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo service redis-server status
sudo service riak ping
sudo service zato status
</pre></div>
</div>
<p>Eğer geliştirme işlemlerini box içerisinde yapacaksanız, ulakbus kullanıcısına geçip python
ortamınızı etkinleştirerek başlayabilirsiniz. En başından sırasıyla komutlar (# ile başlayan yorum
kısımları olmadan):</p>
<div class="highlight-python"><div class="highlight"><pre>vagrant up                         # vagrantbox başlat
vagrant ssh                        # vagrantbox giriş
sudo su - ulakbus                  # ulakbus kullanıcısına geçip home dizinine geç
source ulakbusenv/bin/activate     # ulakbus environment etkinleştir
</pre></div>
</div>
<p>Bu komutun ardından komut satırı promptu değişecek ve şu hale gelecektir:</p>
<div class="highlight-python"><div class="highlight"><pre>(ulakbusenv)ulakbus@ulakbus:~$
</pre></div>
</div>
<p>Eğer deneyiminiz yoksa virtualenv ile ilgili şu bağlantılara bakabilirsiniz:
virtualenv hakkında detaylı bilgi için:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://istihza.com/forum/viewtopic.php?t=2164">http://istihza.com/forum/viewtopic.php?t=2164</a></li>
<li><a class="reference external" href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">http://docs.python-guide.org/en/latest/dev/virtualenvs/</a></li>
</ul>
</div></blockquote>
<p>Bu işlemlerin ardından ilk adım, modellerin db şemalarını senkronize etmek,fixtures dosyalarını yüklemek ve  iş akışları
izinlerini güncellemektir.</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py migrate --model all
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py load_fixture --path fixtures/
</pre></div>
</div>
<p>Bu işlem uzun sürebilir. Komut satırı yönetim aracı hakkında detayları <a class="reference external" href="http://www.ulakbus.org/wiki/komut_satiri_yonetim_araci.html">ilgili
belgeden</a> öğrenebilirsiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py update_permissions
</pre></div>
</div>
<p>Eğer geliştirmeyi kendi makinenizde yapmayı tercih ederseniz şu adımları izleyebilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre>$ virtualenv ulakbusenv                 # ulakbusenv python ortamı yarat
$ source ulakbusenv/bin/activate        # python ortamını etkinleştir
$ cd ~/ulakbus                          # ulakbus git deposuna gir
$ git pull                              # son değişiklikleri uzak depodan çek
$ pip install -r requirments.txt        # ulakbus bagimliliklarini kur
# ulakbus python kutuphane dizinine ekle
$ ln -s ~/ulakbus ~/ulakbusenv/lib/python2.7/site-packages/
</pre></div>
</div>
<div class="section" id="vagrant-box-guncellemek">
<h2>Vagrant Box Güncellemek<a class="headerlink" href="#vagrant-box-guncellemek" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Ulakbus aktif olarak geliştirilmeye devam etmektedir. Bu sebeple vagrantbox içinde kullanılan
bileşenlerin sürümlerinin değişmesi, yenilerinin eklenmesi veya başka sebepler ile değişmektedir.
Bu değişiklikleri <a class="reference external" href="https://atlas.hashicorp.com/zetaops/boxes/ulakbus">https://atlas.hashicorp.com/zetaops/boxes/ulakbus</a> adresinden takip edebilirsiniz.</p>
<p>Vagrantbox güncellemek isterseniz öncelikle indirdiğiniz box imajını güncellemelisiniz:
Bunun için önce Vagrantfile bulunan dizine geçiniz. Bu dizinde</p>
<div class="highlight-python"><div class="highlight"><pre>$ vagrant box outdated
</pre></div>
</div>
<p>Komutunu çalıştırıp mevcut box eski mi değil mi kontrol edin. Daha sonra mevcut box destroy edip
yeniden init edebilirsiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>$ vagrant box destroy
$ vagrant update
</pre></div>
</div>
<p>İşlem bitince</p>
<div class="highlight-python"><div class="highlight"><pre>$ vagrant up
</pre></div>
</div>
<p>Ayrıca mevcut box birden fazla sürüme sahip olabilir. <code class="docutils literal"><span class="pre">--box-version</span></code> ile yeni bir sürüm
ekleyebilir veya mevcut sürümleri kaldırabilirsiniz:</p>
<div class="highlight-python"><div class="highlight"><pre>$ vagrant box list                           # Vagrant için yüklü olan box listesi
$ vagrant box remove --box-version 0.1.9 zetaops/ulakbus   # ulakbus isimli box&#39;ın 0.1.9 sürümünü kaldırır.
</pre></div>
</div>
</div>
<div class="section" id="sonraki-adimlar">
<h2>Sonraki Adımlar<a class="headerlink" href="#sonraki-adimlar" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Geliştirme ortamını başarıyla kurduktan sonra şu belgelerle devam edebilirsiniz:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.ulakbus.org/wiki/ulakbusu-gelistirmek.html">Ulakbus Geliştirelim</a></li>
<li><a class="reference external" href="http://www.ulakbus.org/wiki/zengine-ile-is-akisi-temelli-uygulama-gelistirme.html">ZEngine ile İş Akışı Temelli Uygulama Geliştirme</a></li>
</ul>
</div></blockquote>
<p>Ayrıca Git ve Github iş akışımız hakkında bilgi alabileceğiniz <a class="reference external" href="http://www.ulakbus.org/wiki/git_workflow.html">Ulakbus Depolarına Katkı
Yapmak</a> belgemize göz atabilir, geliştirme
sürecimizin aktif bir parçası olabilirsiniz.</p>
<p>Eğer bir sorunla karşılaşırsanız, <a class="reference external" href="http://www.ulakbus.org/destek.html">destek sayfamızda</a> yer alan
kanallardan destek alabilirsiniz. Destek için iletişim kurmadan önce lütfen sorununuzun ne olduğunu
<strong>açık ve sarih olarak</strong> bildirmeniz gerektiğini unutmayınız. &#8220;- Bu çalışmıyor&#8221; şeklindeki
sorularınıza alabileceğiniz en iyi cevap <strong>sessizlik</strong> olacaktır.</p>
<p>Nasıl soru sorulacağını <a class="reference external" href="http://belgeler.org/howto/smart-questions.html">akıllıca soru sorma yolları belgesinden</a> öğrenebilirsiniz.</p>
<p>Kolay gelsin o/</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="ulakbus_user_interface.html" title="Geliştirme Ortamı Kurulumu(Frontend)"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="git_workflow.html" title="Ulakbus’e Katkıda Bulunmak"
             >önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" >Geliştiriciler</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <p>Tübitak, Ulakbim ULAKBÜS Bütünleşik Üniversite Sistemi, 2015, <a
                        href="http://ozgurlisanslar.org.tr/gpl/gpl-v3/" target="_blank"
                        style="text-decoration:underline; color:#fff;">GPL V3,</a> powered by <a
                        href="http://zetaops.io" target="_blank"
                        style="text-decoration:underline; color:#fff;">Zetaops</a></p>
            </div>
        </div>
    </footer>

  </body>
</html>