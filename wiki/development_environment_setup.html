<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Geliştirme Ortamı Kurulumu(Backend) &mdash; Ulakbus Documents 0.0.1 belgelendirme çalışması</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Ulakbus Documents 0.0.1 belgelendirme çalışması" href="wiki.html" />
    <link rel="up" title="Geliştiriciler" href="developers.html" />
    <link rel="next" title="Geliştirme Ortamı Kurulumu(Frontend)" href="ulakbus_user_interface.html" />
    <link rel="prev" title="Geliştiriciler" href="developers.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="gelistirme-ortami-kurulumu-backend">
<h1>Geliştirme Ortamı Kurulumu(Backend)<a class="headerlink" href="#gelistirme-ortami-kurulumu-backend" title="Bu başlığın kalıcı bağlantısı">¶</a></h1>
<div class="section" id="vagrant">
<h2><strong>Vagrant</strong><a class="headerlink" href="#vagrant" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Geliştiriciler için hazırladığımız vagrant box&#8217;ı kullanarak hızlıca kurulum yapabilirsiniz. Ulakbus&#8217;e ait tüm bileşenler box içinde bulunmaktadır. Ortamı kurabilmek için aşağıdaki komutları kullanabilirsiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir ulakbus
cd ulakbus
wget https://raw.githubusercontent.com/zetaops/zcloud/master/development-environment/Vagrantfile
vagrant up
</pre></div>
</div>
<p>Bu işlem bitince <code class="docutils literal"><span class="pre">vagrant</span> <span class="pre">ssh</span></code> komutu ile geliştirme ortamına bağlanabilirsiniz.</p>
<p>Bağlandıktan sonra aşağıdaki komutlarla öncelikle repoları güncelleyin.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo su - ulakbus
cd ulakbus
git pull https://github.com/zetaops/ulakbus.git
</pre></div>
</div>
<p>Aynı yöntemle pyoko, ulakbus-ui, zengine depolarını da güncelleyin.</p>
</div>
<div class="section" id="elle-kurulum">
<h2><strong>Elle Kurulum</strong><a class="headerlink" href="#elle-kurulum" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>İlk olarak bilgisayarınızı güncel hale getirin.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get update
sudo apt-get upgrade
</pre></div>
</div>
<p>Riak için dosya limitini 65536 olarak değiştirin.</p>
<p><code class="docutils literal"><span class="pre">ulimit</span> <span class="pre">-n</span></code> kalıcı olarak değiştirmek için;</p>
<div class="highlight-python"><div class="highlight"><pre>sudo vi /etc/security/limits.conf
</pre></div>
</div>
<p>ve aşağıdaki satırları dosyanın sonuna ekleyin.</p>
<div class="highlight-python"><div class="highlight"><pre>* soft nofile 65536
* hard nofile 65536
</pre></div>
</div>
<p>Riak&#8217;ı ve bağımlılıklarını kurun.</p>
<div class="highlight-python"><div class="highlight"><pre>#Önce Riak bağımlılıklarını kurunuz.

apt-get install libssl-dev
apt-get install libffi-dev
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>#Ardından Java&#39;yı kurunuz.

apt-add-repository ppa:webupd8team/java -y &amp;&amp; apt-get update
echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | /usr/bin/debconf-set-selections
apt-get install -y oracle-java8-installer
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>#Riak kurulumu

curl -s https://packagecloud.io/install/repositories/zetaops/riak/script.deb.sh |sudo bash
apt-get install riak=2.1.1-1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># Aramayı aktifleştiriniz.

sed -i &quot;s/search = off/search = on/&quot; /etc/riak/riak.conf
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># Riak servisini yeniden başlatın

service riak restart
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># Redis-Server&#39;ı kurunuz.

apt-get install redis-server
</pre></div>
</div>
<p>Zato için tüm gerekli kurulumları gerçekleşiriniz.</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install apt-transport-https
curl -s https://zato.io/repo/zato-0CBD7F72.pgp.asc | sudo apt-key add -
apt-add-repository https://zato.io/repo/stable/2.0/ubuntu
apt-get update
apt-get install zato
</pre></div>
</div>
<p>Zato kurulumunun ardından, <em>zato</em> kullanıcısına geçiniz ve <em>ulakbus</em> adında bir dizin oluşturunuz.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo su - zato
mkdir ~/ulakbus
</pre></div>
</div>
<p>Zato Cluster oluşturunuz. Aşağıdaki komut, Sertifika, Web-Admin, Load-Balancer ve Zato server kurulumunu gerçekleştirecektir.</p>
<div class="highlight-python"><div class="highlight"><pre>zato quickstart create ~/ulakbus sqlite localhost 6379 --kvdb_password=&#39;&#39; --verbose
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">~/ulakbus</span></code> klasörünün altına <em>pwzato.config</em> adında bir dosya oluşturunuz ve aşağıdaki script&#8217;i dosyanın içine yazınız.</p>
<p>Bu script&#8217;i kullanmak için de <code class="docutils literal"><span class="pre">zato</span> <span class="pre">from-config</span> <span class="pre">~/ulakbus/pwzato.config</span></code> komutunuz çalıştırıyor olmalısınız.</p>
<div class="highlight-python"><div class="highlight"><pre>command=update_password
path=/opt/zato/ulakbus/web-admin
store_config=True
username=admin
password=ulakbus
</pre></div>
</div>
<p>Zato Servislerini başlatmak için tekrardan <em>root</em> kullanıcısına geçiniz.</p>
<p>Zato bileşeni için sembolik bağlantı oluşturunuz.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">/</span><span class="n">load</span><span class="o">-</span><span class="n">balancer</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">components</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">.</span><span class="n">load</span><span class="o">-</span><span class="n">balancer</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">/</span><span class="n">server1</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">components</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">.</span><span class="n">server1</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">/</span><span class="n">server2</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">components</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">.</span><span class="n">server2</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">/</span><span class="n">web</span><span class="o">-</span><span class="n">admin</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">zato</span><span class="o">/</span><span class="n">components</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ulakbus</span><span class="o">.</span><span class="n">web</span><span class="o">-</span><span class="n">admin</span>
</pre></div>
</div>
<p>Ve Zato Servisini başlatınız.</p>
<div class="highlight-python"><div class="highlight"><pre>service zato start
</pre></div>
</div>
<p>Ulakbus uygulaması için python virtual environment hazırlayınız.</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install virtualenvwrapper
</pre></div>
</div>
<p><em>app</em> adında bir dizin oluşturunuz ve <em>ulakbus</em> kullanıcısını <em>app</em> klasörü için ekleyin.</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir /app
/usr/sbin/useradd --home-dir /app --shell /bin/bash --comment &#39;ulakbus operations&#39; ulakbus
</pre></div>
</div>
<p>Ulakbus kullanıcısına <em>app</em> klasörü için yetki verin ve ulakbus kullanıcısına geçiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>chown ulakbus:ulakbus /app -Rf
su ulakbus
cd ~
</pre></div>
</div>
<p>Virtual Environment yaratınız ve actif ediniz.</p>
<div class="highlight-python"><div class="highlight"><pre>virtualenv --no-site-packages env
source env/bin/activate
</pre></div>
</div>
<p>pip&#8217; yükseltin(güncelleyin) ve ipython kurulumunu gerçekleştirin.</p>
<div class="highlight-python"><div class="highlight"><pre>pip install --upgrade pip
pip install ipython
</pre></div>
</div>
<p>Pyoko&#8217;yu <a class="reference external" href="https://github.com/zetaops/pyoko.git">https://github.com/zetaops/pyoko.git</a> adresinden çekiniz ve gereksinimleri kurunuz.</p>
<div class="highlight-python"><div class="highlight"><pre>pip install riak
pip install enum34
pip install six

pip install git+https://github.com/zetaops/pyoko.git
</pre></div>
</div>
<p>Environmet&#8217;e PYOKO_SETTINGS değişkeni ekleyiniz(<em>root</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>echo &quot;export PYOKO_SETTINGS=&#39;ulakbus.settings&#39;&quot; &gt;&gt; /etc/profile
</pre></div>
</div>
<p>Ulakbus&#8217;u <a class="reference external" href="https://github.com/zetaops/pyoko.git">https://github.com/zetaops/pyoko.git</a> adresinden çekiniz ve gereksinimleri kurunuz.</p>
<div class="highlight-python"><div class="highlight"><pre>pip install falcon
pip install beaker
pip install redis
pip install passlib
pip install git+https://github.com/didip/beaker_extensions.git#egg=beaker_extensions
pip install git+https://github.com/zetaops/SpiffWorkflow.git#egg=SpiffWorkflow
pip install git+https://github.com/zetaops/zengine.git#egg=zengine

git clone https://github.com/zetaops/ulakbus.git
</pre></div>
</div>
<p>Ulakbus-ui&#8217;yi <a class="reference external" href="https://github.com/zetaops/pyoko.git">https://github.com/zetaops/pyoko.git</a> adresinden çekiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/zetaops/ulakbus-ui.git
</pre></div>
</div>
<p>Ulakbus&#8217;u PYTHONPATH&#8217;a ekleyiniz.</p>
<div class="highlight-python"><div class="highlight"><pre>echo &#39;/app/ulakbus&#39; &gt;&gt; /app/env/lib/python2.7/site-packages/ulakbus.pth
</pre></div>
</div>
<p>Google kütüphanesinin çalışması için &#8220;__init__.py&#8221; adında dosya oluşturunuz(<em>ulakbus</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>touch /app/env/lib/python2.7/site-packages/google/__init__.py
</pre></div>
</div>
<p>Pyoko için <em>solr_schema_template</em> &#8216;i indirin.(<em>ulakbus</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/env/local/lib/python2.7/site-packages/pyoko/db
wget https://raw.githubusercontent.com/zetaops/pyoko/master/pyoko/db/solr_schema_template.xml
</pre></div>
</div>
<p>Sembolik bağlantı oluşturunuz.(<em>zato</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>ln -s /app/pyoko/pyoko /opt/zato/2.0.5/zato_extra_paths/
ln -s /app/env/lib/python2.7/site-packages/riak /opt/zato/2.0.5/zato_extra_paths/
ln -s /app/env/lib/python2.7/site-packages/riak_pb /opt/zato/2.0.5/zato_extra_paths/
ln -s /app/env/lib/python2.7/site-packages/google /opt/zato/2.0.5/zato_extra_paths/
ln -s /app/env/lib/python2.7/site-packages/passlib /opt/zato/2.0.5/zato_extra_paths/
</pre></div>
</div>
<p>Bucket-type türünde modeller oluşturunuz ve aktif ediniz.(<em>root</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>riak-admin bucket-type create models &#39;{&quot;props&quot;:{&quot;last_write_wins&quot;:true, &quot;allow_mult&quot;:false}}&#39;
riak-admin bucket-type activate models
</pre></div>
</div>
<p>Aşağıdaki komutlar yardımı ile şemaları güncelleyin.(<em>ulakbus</em> kullanıcısı iken)</p>
<div class="highlight-python"><div class="highlight"><pre>source env/bin/activate
cd ~/ulakbus/ulakbus
python manage.py update_schema --bucket all
</pre></div>
</div>
<p>Server&#8217;ı 8000(default) portunda çalıştırınız.</p>
<div class="highlight-python"><div class="highlight"><pre>python runserver.py
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="wiki.html">İçindekiler Tablosu</a></h3>
  <ul>
<li><a class="reference internal" href="#">Geliştirme Ortamı Kurulumu(Backend)</a><ul>
<li><a class="reference internal" href="#vagrant"><strong>Vagrant</strong></a></li>
<li><a class="reference internal" href="#elle-kurulum"><strong>Elle Kurulum</strong></a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="wiki.html">Documentation overview</a><ul>
  <li><a href="developers.html">Geliştiriciler</a><ul>
      <li>Previous: <a href="developers.html" title="önceki bölüm">Geliştiriciler</a></li>
      <li>Next: <a href="ulakbus_user_interface.html" title="sonraki bölüm">Geliştirme Ortamı Kurulumu(Frontend)</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>Bu Sayfa</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/development_environment_setup.txt"
            rel="nofollow">Kaynağı Göster</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Hızlı Arama</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Git" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Aranacak terimleri veya modül, sınıf ya da fonksiyon adını yazınız
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015 Zetaops.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/development_environment_setup.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>