

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="tr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>ULAKBUS</title>

    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Dizin" href="genindex.html" />
    <link rel="search" title="Ara" href="search.html" />
    <link rel="top" title="Ulakbus 0.0.1 belgelendirme çalışması" href="wiki.html" />
    <link rel="up" title="Geliştiriciler" href="developers.html" />
    <link rel="next" title="Yazılım Geliştirme ve Test Döngüsü" href="yazilim_gelistirme_ve_test_dongusu.html" />
    <link rel="prev" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme" href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="/img/favicon.ico">

    <title>Ulakbüs</title>
    <link rel="stylesheet"
          href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Bootstrap Core CSS -->
    <link href="_static/css/bootstrap.css" rel="stylesheet">
    <link href="_static/css/style.css" rel="stylesheet">
    <link href="_static/css/roboto/roboto.css" rel="stylesheet">

    <script>
        /**
         * Check an href for an anchor. If exists, and in document, scroll to it.
         * If href argument omitted, assumes context (this) is HTML Element,
         * which will be the case when invoked by jQuery after an event
         */
        function scroll_if_anchor(href) {
            href = typeof(href) == "string" ? href : $(this).attr("href");

            // If href missing, ignore
            if (!href) return;

            // You could easily calculate this dynamically if you prefer
            var fromTop = 100;

            // If our Href points to a valid, non-empty anchor, and is on the same page (e.g. #foo)
            // Legacy jQuery and IE7 may have issues: http://stackoverflow.com/q/1593174
            var $target = $(href);

            // Older browsers without pushState might flicker here, as they momentarily
            // jump to the wrong position (IE < 10)
            if ($target.length) {
                $('html, body').animate({scrollTop: $target.offset().top - fromTop});
                if (history && "pushState" in history) {
                    history.pushState({}, document.title, window.location.pathname + href);
                    return false;
                }
            }
        }

        // When our page loads, check to see if it contains and anchor
        scroll_if_anchor(window.location.hash);

        // Intercept all anchor clicks
        $("body").on("click", "a[href^='#']", scroll_if_anchor);
    </script>
    </head>

    <body id="page-top" data-target=".navbar-fixed-top">
    <nav class="navbar ulakbus-navbar navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="row">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/index.html" class="logo"><img
                            src="http://www.ulakbus.org/ulakbus.png"></a>
                </div>

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav navbar-right main-nav">



                        <li>
                            <a href="http://www.ulakbus.org/hakkinda.html">HAKKINDA</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/wiki.html">BELGELER</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/developers.html">KURULUM</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/destek.html">DESTEK</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/indir.html">İNDİR</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/takip.html">NE OLUYOR?</a>
                        </li>
                        <li>
                            <a href="http://blog.zetaops.io" target="_blank">BLOG</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Fork me on github icons -->
    <a href="https://github.com/zetaops" target="_blank"><img id="forkme"
                                                              src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
                                                              alt="Fork me on GitHub"
                                                              data-canonical-src="_static/forkme_right_red.png"></a>


    <div id="doccontainer">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             accesskey="I">dizin</a></li>
        <li class="right" >
          <a href="yazilim_gelistirme_ve_test_dongusu.html" title="Yazılım Geliştirme ve Test Döngüsü"
             accesskey="N">sonraki</a> |</li>
        <li class="right" >
          <a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme"
             accesskey="P">önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" accesskey="U">Geliştiriciler</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="wiki.html">
              <img class="logo" src="_static/ulakbus.png" alt="Logo"/>
            </a></p>
  <h3><a href="wiki.html">İçindekiler Tablosu</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ulakbüs UI - API ilişkisi</a><ul>
<li><a class="reference internal" href="#id1">Ulakbüs UI - API ilişkisi</a><ul>
<li><a class="reference internal" href="#ui-hakkinda">UI hakkında</a><ul>
<li><a class="reference internal" href="#ui-baslangici">UI başlangıcı</a><ul>
<li><a class="reference internal" href="#login-islemi">Login işlemi</a></li>
<li><a class="reference internal" href="#dashboard">Dashboard</a></li>
<li><a class="reference internal" href="#api-response">Api response</a></li>
<li><a class="reference internal" href="#ulakbus-ui-ogeleri">Ulakbüs UI Öğeleri</a><ul>
<li><a class="reference internal" href="#form-ogesi">Form Öğesi</a></li>
<li><a class="reference internal" href="#liste-ogesi">Liste öğesi</a></li>
<li><a class="reference internal" href="#detay-ogesi">Detay öğesi</a></li>
<li><a class="reference internal" href="#ui-menu-ve-diger-ogeler">UI Menu ve Diğer Öğeler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logout-islemi">Logout İşlemi</a></li>
<li><a class="reference internal" href="#gelistirmeye-baslamak">Geliştirmeye Başlamak</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Önceki konu</h4>
  <p class="topless"><a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html"
                        title="önceki bölüm">ZEngine ile İş Akışı Temelli Uygulama Geliştirme</a></p>
  <h4>Sonraki konu</h4>
  <p class="topless"><a href="yazilim_gelistirme_ve_test_dongusu.html"
                        title="sonraki bölüm">Yazılım Geliştirme ve Test Döngüsü</a></p>
  <div role="note" aria-label="source link">
    <h3>Bu Sayfa</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ulakbus-api-ui-iliskisi.txt"
            rel="nofollow">Kaynağı Göster</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Hızlı Arama</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Git" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ulakbus-ui-api-iliskisi">
<h1>Ulakbüs UI - API ilişkisi<a class="headerlink" href="#ulakbus-ui-api-iliskisi" title="Bu başlığın kalıcı bağlantısı">¶</a></h1>
<div class="section" id="id1">
<h2>Ulakbüs UI - API ilişkisi<a class="headerlink" href="#id1" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<div class="line-block">
<div class="line">Bu belge <strong>Ulakbus UI ve API</strong> bileşenlerinin etkileşimini göstermek için hazırlanmıştır.</div>
<div class="line">API kullanılarak hazırlanan view, model ve jenerik fonksiyonlarda hangi tip verinin kullanıcı arayüzünde nasıl gösterildiğini bu belgede bulabilirsiniz.</div>
</div>
<div class="section" id="ui-hakkinda">
<h3>UI hakkında<a class="headerlink" href="#ui-hakkinda" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<div class="line-block">
<div class="line">Ulakbus kullanıcı arayüzü tek sayfalı bir tarayıcı uygulamasıdır.</div>
<div class="line">Sayfadaki data dinamik olarak Ulakbus API tarafından sağlanır ve arayüzde işlenir.</div>
<div class="line">Veri sunucu tarafında render edilmez, yani bir html dosyasına işlenerek gönderilmez.</div>
<div class="line">Sunucu tarafından gönderilen tüm verilerin yapısı <code class="docutils literal"><span class="pre">JSON</span></code>&#8216;dır.</div>
<div class="line"><br /></div>
<div class="line">Kullanıcı arayüzünü hazırlamak için <a class="reference external" href="https://angularjs.org/">AngularJS</a> kütüphanesi kullanılmıştır.</div>
<div class="line"><br /></div>
<div class="line">UI tamamıyla statik dosyalardan oluşmaktadır. <code class="docutils literal"><span class="pre">index.html</span></code> dosyası tarayıcı tarafından işlendikten sonra uygulama başlar.</div>
<div class="line"><br /></div>
<div class="line">Sayfa hazır olduktan sonra <code class="docutils literal"><span class="pre">app.js</span></code> dosyası çalışıp gerekli modülleri ve bağımlılıkları tanımlar.</div>
<div class="line">Uygulamanın ana modülü <code class="docutils literal"><span class="pre">ulakbus</span></code> modülüdür.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal"><span class="pre">app_routes.js</span></code> dosyasında uygulamanın sayfaları ve kullanacakları <code class="docutils literal"><span class="pre">controller</span></code>’lar ve <code class="docutils literal"><span class="pre">template</span></code>’leri düzenlenmiştir.</div>
<div class="line">Bu dosyaya göre istenen sayfa ilgili <code class="docutils literal"><span class="pre">template</span></code> ve <code class="docutils literal"><span class="pre">controller</span></code> ile yorumlanır.</div>
</div>
<div class="section" id="ui-baslangici">
<h4>UI başlangıcı<a class="headerlink" href="#ui-baslangici" title="Bu başlığın kalıcı bağlantısı">¶</a></h4>
<div class="line-block">
<div class="line">Uygulamanın bağlandığı kararlı api sunucusu <code class="docutils literal"><span class="pre">http://api.ulakbus.net</span></code> adresinde bulunur. Geliştirme ortamı için <code class="docutils literal"><span class="pre">http://nightly.api.ulakbus.net</span></code> adresinde bulunur.</div>
<div class="line">Kararlı api sunucusu varsayılan sunucudur.</div>
<div class="line">Yerel yada başka bir adresteki sunucuyu kullanmak için başlangıç adresinde “backendurl” parametresi ile adresi girmeniz gerekmektedir. Yerel geliştirme ortamında nightly sunucusuna bağlanmak için adres satırına <code class="docutils literal"><span class="pre">http://localhost/?backendurl=http://nightly.api.ulakbus.net</span></code> yazmanız yeterlidir.</div>
<div class="line"><br /></div>
<div class="line">Uygulama başlatılıp tüm modül tanımlarmaları yapıldıktan sonra tarayıcı kullanıcıyı <code class="docutils literal"><span class="pre">/dashboard</span></code> adresine yönlendirir. Uygulamanın en başında kullanıcının login durumu kontrol eder ve kullanıcı mevcut değil ise <code class="docutils literal"><span class="pre">/login</span></code> ekranına yönlendirilir.</div>
</div>
<div class="section" id="login-islemi">
<h5>Login işlemi<a class="headerlink" href="#login-islemi" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<div class="line-block">
<div class="line">Login işlemi için <code class="docutils literal"><span class="pre">http://api.ulakbus.net/login</span></code> adresine kullanıcı parametreleriyle XHR istegi gönderilir.</div>
<div class="line">Gelen yanıt <code class="docutils literal"><span class="pre">JSON</span></code> nesnesinde <code class="docutils literal"><span class="pre">cmd</span></code> parametresini baz alarak işlemin sonucunu değerlendirilir. <code class="docutils literal"><span class="pre">cmd</span></code>, <code class="docutils literal"><span class="pre">upgrade</span></code> veya <code class="docutils literal"><span class="pre">retry</span></code> gelebilir.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal"><span class="pre">upgrade</span></code> yanıtıyla birlikte <code class="docutils literal"><span class="pre">ws://api.ulakbus.net/ws</span></code> adresinde websocket açılır. Kullanıcı <code class="docutils literal"><span class="pre">/dashboard</span></code>&#8216;a yönlendirilir. Geri kalan tüm iletişim websocket üzerinden yönetilir.</div>
<div class="line"><br /></div>
<div class="line">Yanlış bilgi girildiğinde <code class="docutils literal"><span class="pre">retry</span></code> yanıtı alınır ve kullanıcı tekrar <code class="docutils literal"><span class="pre">/login</span></code> sayfasına yönlendirilir. Başka aksiyon alınmaz.</div>
</div>
</div>
<div class="section" id="dashboard">
<h5>Dashboard<a class="headerlink" href="#dashboard" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<div class="line-block">
<div class="line">Kullanıcı login olduktan sonra dashboard ekranına geldiği anda <code class="docutils literal"><span class="pre">{view:</span> <span class="pre">'dashboard'}</span></code> isteği yapılır. bu isteğin yanıtında kullacının bilgisi ve de kulanıcı menüleri gelir.</div>
<div class="line"><br /></div>
<div class="line">Ulakbus uygulaması iş akışı tabanlı bir uygulamadır. BPMN 2.0 standartlarını kullanır.</div>
<div class="line">İş akış şemaları yani <code class="docutils literal"><span class="pre">workflow</span></code> lar bpmn formatında backend API’da oluşturulur.</div>
<div class="line">Bu iş akış şemaları kendilerine ait model ve view metotlarını kullanarak tanımlanan işi belirlenen adımlarla gerçekleştirirler.</div>
</div>
</div>
<div class="section" id="api-response">
<h5>Api response<a class="headerlink" href="#api-response" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<p>Kullanıcı kendine ait işakışlarına menüler aracılığıyla ulaşır.
Kullanıcı bir iş akışı başlattığında api ye başlattığı iş akışının model ve workflow bilgisini gönderir. Api den gelen bilgiler ile UI tarafından yorumlanır. Yorumlama işlemi <code class="docutils literal"><span class="pre">CRUDListFormController</span></code> tarafından yapılmaktadır.</p>
<p>Gelen yanıt içerisinde yer alan <code class="docutils literal"><span class="pre">client_cmd</span></code> parametresine göre yorumlama tipi seçilir.
<code class="docutils literal"><span class="pre">client_cmd</span></code> değeri <code class="docutils literal"><span class="pre">show</span></code>, <code class="docutils literal"><span class="pre">list</span></code>, <code class="docutils literal"><span class="pre">form</span></code>, <code class="docutils literal"><span class="pre">reload</span></code> veya <code class="docutils literal"><span class="pre">reset</span></code> olabilir.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">form</span></code> gönderilen datanın <code class="docutils literal"><span class="pre">forms</span></code> nesnesi taşıdığı ve kullanıcı arayüzünün bunu form olarak yorumlaması gerektiği durumlarda kullanılır.</li>
<li><code class="docutils literal"><span class="pre">list</span></code> sayfada listelenmesi istenen bir data olduğunda kullanılır. Bu data table olarak listelenir.</li>
<li><code class="docutils literal"><span class="pre">show</span></code> komutu sayfada detay bilgileriyle gösterilmek istenen bır data olduğunda kullanılır.</li>
<li><code class="docutils literal"><span class="pre">reload</span></code> komutu sayfada gösterilen datada bir değişiklik olduğu ve datanın API’dan yeniden istenmesi gerektiği durumlarda kullanılır.</li>
<li><code class="docutils literal"><span class="pre">reset</span></code> komutu datanın ek parametreler olmadan yeniden çekilmesi için kullanılır.</li>
</ul>
<p>Bu komutlar oluşturulan iş akışlarının ilgili adımlarında kullanılarak arayüzün istenen şekilde davranması için gereklidir.</p>
<p>Diğer yanıt parametreleri forms, meta, objects, pagination, reload_cmd, token, callbackID, notify, is_login olabilir.</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">reload_cmd</span></code> anahtarı <code class="docutils literal"><span class="pre">&quot;client_cmd&quot;:</span> <span class="pre">&quot;reload&quot;</span></code> olması durumunda arayüzün backend API’dan isteyeceği komutu taşır. UI post datası içinde cmd anahtarında bu değeri gönderir.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">token</span></code> anahtarında iş akış şemasının (<code class="docutils literal"><span class="pre">workflow</span></code>) redis’te tutulan token değeri vardır. İş akışı tamamlanmadığı sürece bu token request nesnesinde API’a gönderilir.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">callbackID</span></code> UI tarafından üretilip gönderilmektedir. Yanıt içerisinde bulunuyorsa UI tarafından yapılan bir isteğin yanıtı olduğu anlamına gelmektedir. Uygulama genelinde yapılan isteklerde Javascript Promise alt yapısı kullanılarak asenkron istek yapılmaktadır. Bekleyen promise resolve edilerek iş akışının devamı sağlanmaktadır.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">meta</span></code> anahtarında arayüzde istenen yapılandırmalar yer alır. Boolean değer taşırlar. Bunlar şunlardır;</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">allow_search</span></code> Listeleme ekranında arama kutusunun gösterilmesi için kullanılır.</li>
<li><code class="docutils literal"><span class="pre">allow_selection</span></code> Listeleme ekranında tablonun solunda selectBox yer alması için kullanılır.</li>
<li><code class="docutils literal"><span class="pre">allow_sort</span></code> Listeleme ekranındaki sıralama özelliği için kullanılır.</li>
<li><code class="docutils literal"><span class="pre">allow_filter</span></code> Listelenen datanın filtrelemesi için kullanılır.</li>
<li><code class="docutils literal"><span class="pre">allow_actions</span></code> ListNode tipinde listelenen data için en sağdaki işlemler kolonunun gösterilmesi için kullanılır.</li>
<li><code class="docutils literal"><span class="pre">translate_widget</span></code> Katalog verilerin düzenleneceği ekran için oluşturulan widget’dır. Aynı zamanda çeviri işlemleri için kullanılacaktır. Boolean tipinde değer alır.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">_debug_queries</span></code> anahtarı geliştiriciler için yardımcı bir anahtardır. Veritabanına yapılan sorguların süresi ve kaç adet sorgu yapıldığı gibi değerler bu anahtarda yer alır. Aktif olması için API ortamında çevre değişkeni <code class="docutils literal"><span class="pre">DEBUG=1</span></code> olarak atanmalıdır.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">is_login</span></code> anahtarı kullanıcının giriş yapıp yapmadığını gösteren bir anahtardır. Bu anahtar <code class="docutils literal"><span class="pre">false</span></code> değer taşıdığında arayüz login sayfasına yönlendirir.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">notify</span></code> ayayüzde bildirim göstermek için kullanılır. Gönderilen bildirimler pencerenin sağ üstünde yer alır ve bir süre sonra kaybolur.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pagination</span></code> anahtarı listeleme gösterimlarinde sayfalama bilgisini bulundurur.</p>
</li>
</ul>
</div>
<div class="section" id="ulakbus-ui-ogeleri">
<h5>Ulakbüs UI Öğeleri<a class="headerlink" href="#ulakbus-ui-ogeleri" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<div class="line-block">
<div class="line">Ulakbüs kullanıcı arayüzünde sunulan temel öğeler şunlardır;</div>
</div>
<ul class="simple">
<li>Form öğesi - Ekleme ve düzenleme işlemleri</li>
<li>Liste öğesi - Listeleme, arama, filtre ve silme işlemleri</li>
<li>Detay öğesi - Tek nesne detay ve rapor ekranları</li>
</ul>
<div class="line-block">
<div class="line">Bu öğe türleri API’ın iş akışlarında sunduğu temel içerik türleridir.</div>
<div class="line">Bu içerik türlerinin kullanıcı arayüzünde doğru biçimde yorumlanması için API yanıtı içerisinde gönderilecek anahtar değerler belirlenmiştir.</div>
<div class="line">Bu anahtarlar aşağıdaki tablodaki gibidir;</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">İçerik türü</th>
<th class="head">Anahtar</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Form</td>
<td><code class="docutils literal"><span class="pre">forms</span></code></td>
</tr>
<tr class="row-odd"><td>Liste</td>
<td><code class="docutils literal"><span class="pre">objects</span></code></td>
</tr>
<tr class="row-even"><td>Detay</td>
<td><code class="docutils literal"><span class="pre">object</span></code></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">İçerik türleri aynı sayfa içerisinde bulunabilir. Bu koşulda</div>
</div>
<ol class="arabic simple">
<li>detay</li>
<li>form</li>
<li>liste</li>
</ol>
<div class="line-block">
<div class="line">sırasına uygun şekilde aynı sayfada listelenir</div>
</div>
<div class="section" id="form-ogesi">
<h6>Form Öğesi<a class="headerlink" href="#form-ogesi" title="Bu başlığın kalıcı bağlantısı">¶</a></h6>
<div class="line-block">
<div class="line">Ulakbus UI form işlemlerini gerçekleştirmek için <a class="reference external" href="https://github.com/Textalk/angular-schema-form">angular-schema-form</a> extend edilmiştir.</div>
<div class="line">Kullanılan form nesneleri angular-schema-form&#8217;un beklediği formatta olmalı ya da değilse extend edilerek <cite>custom type</cite> yaratılmalıdır.</div>
</div>
<p>Örnek bir <code class="docutils literal"><span class="pre">forms</span></code> nesnesi aşağıdaki gibidir:</p>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;forms&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;constraints&quot;</span><span class="p">:{},</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:{</span> <span class="s2">&quot;ad&quot;</span><span class="p">:</span><span class="n">null</span><span class="p">,</span> <span class="s2">&quot;soyad&quot;</span><span class="p">:</span><span class="n">null</span> <span class="p">},</span>
        <span class="s2">&quot;grouping&quot;</span><span class="p">:{},</span>
        <span class="s2">&quot;form&quot;</span><span class="p">:[</span>
            <span class="p">{</span> <span class="s2">&quot;helpvalue&quot;</span><span class="p">:</span><span class="n">null</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;help&quot;</span> <span class="p">},</span>
            <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soyad&quot;</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="s2">&quot;titleMap&quot;</span><span class="p">:[</span>
                    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Bay&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span><span class="mi">1</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Bayan&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span><span class="mi">2</span> <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;key&quot;</span><span class="p">:</span><span class="s2">&quot;cinsiyet&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Cinsiyet&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;e_posta&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dogum_tarihi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;save_edit&quot;</span><span class="p">,</span>
            <span class="s2">&quot;nufus_kayitlari_id&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;schema&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;required&quot;</span><span class="p">:[</span> <span class="s2">&quot;ad&quot;</span><span class="p">,</span> <span class="s2">&quot;soyad&quot;</span> <span class="p">],</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
            <span class="s2">&quot;properties&quot;</span><span class="p">:{</span>
                <span class="s2">&quot;ad&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Adı&quot;</span> <span class="p">},</span>
                <span class="s2">&quot;soyad&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Soyadı&quot;</span> <span class="p">},</span>
                <span class="s2">&quot;e_posta&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;E-Posta&quot;</span> <span class="p">},</span>
                <span class="s2">&quot;save_edit&quot;</span><span class="p">:{</span> <span class="s2">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;save::add_edit_form&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;button&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Kaydet&quot;</span> <span class="p">},</span>
                <span class="s2">&quot;nufus_kayitlari_id&quot;</span><span class="p">:{</span>
                    <span class="s2">&quot;list_cmd&quot;</span><span class="p">:</span><span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Nüfus Bilgileri&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;wf&quot;</span><span class="p">:</span><span class="s2">&quot;crud&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;add_cmd&quot;</span><span class="p">:</span><span class="s2">&quot;add_edit_form&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;model_name&quot;</span><span class="p">:</span><span class="s2">&quot;NufusKayitlari&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;dogum_tarihi&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Doğum Tarihi&quot;</span> <span class="p">},</span>
                <span class="s2">&quot;cinsiyet&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Cinsiyet&quot;</span> <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Personel&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">forms</span></code>’un öğeler ise şunlardır:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">form</span></code></li>
</ul>
<p>Bu anahtar altında formda gösterilmesi istenen inputlar bir liste halinde yer alır.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">schema</span></code></li>
</ul>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">schema</span></code> anahtarının alt özellikleri vardır. Bunlardan <code class="docutils literal"><span class="pre">required</span></code> bir liste halinde doldurulması gerekli alanları gösterir.</div>
<div class="line"><code class="docutils literal"><span class="pre">properties</span></code> anahtarında <code class="docutils literal"><span class="pre">form</span></code> anahtarında belirtilen alanların özelliklerinin yer aldığı anahtardır.</div>
</div>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;e_posta&quot;</span><span class="p">:{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;E-Posta&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">type</span></code> alanında inputun tipi ve <code class="docutils literal"><span class="pre">title</span></code> alanında bu inputun başlığı yer alır.</div>
</div>
<blockquote>
<div><p>İlişkisel veri tipleri olan ListNode, Node ve Model için bu anahtarlarda <code class="docutils literal"><span class="pre">wf</span></code>, <code class="docutils literal"><span class="pre">add_cmd</span></code>, <code class="docutils literal"><span class="pre">list_cmd</span></code>, <code class="docutils literal"><span class="pre">model_name</span></code> değerleri bulunmaktadır.
Bu değerler form sayfası oluşturulurken dikkate alınır.</p>
<p>Formlarda birden fazla buton değişik işleri yapabilsin diye bu input alanlarına <code class="docutils literal"><span class="pre">cmd</span></code> değeri eklenmiştir. Bu değer form submit edilirken <code class="docutils literal"><span class="pre">cmd</span></code> anahtarında API&#8217;a gönderilir.</p>
<p>Ek işlevsellik isteyen alanlar için (<cite>Node, ListNode, Model, select, file, submit, date, text_general</cite>, etc.) template&#8217;ler oluşturulmuştur.</p>
<p>Field tipleri şunlar olabilir:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">button</span></code></li>
<li><code class="docutils literal"><span class="pre">submit</span></code></li>
<li><code class="docutils literal"><span class="pre">file</span></code></li>
<li><code class="docutils literal"><span class="pre">select</span></code></li>
<li><code class="docutils literal"><span class="pre">date</span></code></li>
<li><code class="docutils literal"><span class="pre">int</span></code></li>
<li><code class="docutils literal"><span class="pre">boolean</span></code></li>
<li><code class="docutils literal"><span class="pre">string</span></code></li>
<li><code class="docutils literal"><span class="pre">typeahead</span></code></li>
<li><code class="docutils literal"><span class="pre">text_general</span></code></li>
<li><code class="docutils literal"><span class="pre">float</span></code></li>
<li><code class="docutils literal"><span class="pre">model</span></code></li>
<li><code class="docutils literal"><span class="pre">Node</span></code></li>
<li><code class="docutils literal"><span class="pre">ListNode</span></code></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">model</span></code></li>
</ul>
<div class="line-block">
<div class="line">Bu anahtarda form alanlarının değerleri tutulmaktadır.</div>
<div class="line">Düzenlenecek form için bu anahtardaki değerler dolu olarak döner ve inputlara atanır.</div>
<div class="line">Boş değer dönmesi o anahtar için daha önceden bir kayıt yapılmadığını gösterir.</div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">grouping</span></code></li>
</ul>
<div class="line-block">
<div class="line">Form inputlarının sayfa yerleşimlerini düzenleyebilmek için eklenmiş bir özelliktir.</div>
<div class="line">Grid sistem baz alınarak gruplanan elemanlara alan değerleri atanır. <code class="docutils literal"><span class="pre">layout</span></code> değeri 12 birimlik alanda kaç birim olarak yer alacağını gösterir.</div>
<div class="line">Aşağıda bu özelliğin bir örneği görülebilir:</div>
</div>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;grouping&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;group_title&quot;</span><span class="p">:</span> <span class="s2">&quot;Gorev&quot;</span><span class="p">,</span>
            <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gorev_tipi&quot;</span><span class="p">,</span> <span class="s2">&quot;birim&quot;</span><span class="p">,</span> <span class="s2">&quot;aciklama&quot;</span><span class="p">],</span>
            <span class="s2">&quot;layout&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;collapse&quot;</span><span class="p">:</span> <span class="n">false</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">constraints</span></code></li>
</ul>
<p>Form inputlarının birbirlerine göre bağımlılıklarının denetlendiği ve düzenlendiği anahtardır. Geliştirme aşamasındadır.</p>
</div>
<div class="section" id="liste-ogesi">
<h6>Liste öğesi<a class="headerlink" href="#liste-ogesi" title="Bu başlığın kalıcı bağlantısı">¶</a></h6>
<p>Liste öğesinde kaydedilen nesneler listelenir.</p>
<ul>
<li><p class="first">Listelenecek öğeler <code class="docutils literal"><span class="pre">objects</span></code> anahtarında döner. Dönen listede ilk nesne listenin başlık değerlerini oluşturur.</p>
</li>
<li><p class="first">İkinci nesneden itibaren <code class="docutils literal"><span class="pre">fields</span></code> anahtarında liste halinde aynı sırayla ilk nesnedeki başlıkların karşılığı değerler yer almaktadır.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">actions</span></code> anahtarında o satır için gerçekleştirilebilecek işlemler yer almaktadır. İşlemlerin gösterim şekilleri <code class="docutils literal"><span class="pre">show_as</span></code> anahtarında gönderilir.</p>
</li>
<li><p class="first">İşlemler varsayılan olarak satırın sonundaki işlemler alanında gösterilir.</p>
</li>
<li><p class="first">Eğer satırdaki bir hücreye uygulanması isteniyorsa hangi alana uygulanacağı bir liste içinde işlem nesnesinin <code class="docutils literal"><span class="pre">fields</span></code> anahtarında belitrilir.</p>
</li>
<li><p class="first">Gerçekleştirilecek işlemin ne olacağı işlemin <code class="docutils literal"><span class="pre">cmd</span></code> anahtarında yer alır. <code class="docutils literal"><span class="pre">mode</span></code> anahtarı <cite>normal</cite> (varsayılan), <cite>new</cite> (yeni sayfada) ve <cite>modal</cite> (bir modal içinde) değerlerini alabilir.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pagination</span></code> anahtarında sayfalama uygulandıysa sayfa başına kaç nesne olduğu <code class="docutils literal"><span class="pre">per_page</span></code>, toplam nesne sayısı <code class="docutils literal"><span class="pre">total_objects</span></code>, toplam sayfa sayısı <code class="docutils literal"><span class="pre">total_pages</span></code>, ve o an hangi sayfada olunduğu <code class="docutils literal"><span class="pre">page</span></code> bilgisi yer alır.</p>
<blockquote>
<div><p>Liste sayfasıyla birlikte gönderilen <code class="docutils literal"><span class="pre">&quot;forms&quot;</span></code> anahtarında o sayfada ayrıca form işlemlerinin yapılması sağlanmaktadır. Aşağıdaki örnekte o anki modele yeni bir kayıt eklemek için forms anahtarının kullanıldığı görülmektedir.</p>
</div></blockquote>
</li>
</ul>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;forms&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;constraints&quot;</span><span class="p">:{},</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:{</span> <span class="s2">&quot;add&quot;</span><span class="p">:</span> <span class="n">null</span> <span class="p">},</span>
        <span class="s2">&quot;grouping&quot;</span><span class="p">:{},</span>
        <span class="s2">&quot;form&quot;</span><span class="p">:[</span> <span class="s2">&quot;add&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;schema&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;required&quot;</span><span class="p">:[</span> <span class="s2">&quot;add&quot;</span> <span class="p">],</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
            <span class="s2">&quot;properties&quot;</span><span class="p">:{</span>
                <span class="s2">&quot;add&quot;</span><span class="p">:{</span>
                    <span class="s2">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;add_edit_form&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;button&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Ekle&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Personeller&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;pagination&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;per_page&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
        <span class="s2">&quot;total_objects&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
        <span class="s2">&quot;total_pages&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;page&quot;</span><span class="p">:</span><span class="mi">1</span>
    <span class="p">},</span>
    <span class="s2">&quot;objects&quot;</span><span class="p">:[</span>
        <span class="p">[</span> <span class="s2">&quot;Adı&quot;</span><span class="p">,</span> <span class="s2">&quot;Soyadı&quot;</span><span class="p">,</span> <span class="s2">&quot;TC No&quot;</span><span class="p">,</span> <span class="s2">&quot;Durum&quot;</span> <span class="p">],</span>
        <span class="p">{</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;Işık&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Ülker&quot;</span><span class="p">,</span>
                <span class="s2">&quot;19189958696&quot;</span><span class="p">,</span>
                <span class="n">null</span>
            <span class="p">],</span>
            <span class="s2">&quot;actions&quot;</span><span class="p">:[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;fields&quot;</span><span class="p">:[</span>
                        <span class="mi">0</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;show&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;mode&quot;</span><span class="p">:</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;show_as&quot;</span><span class="p">:</span><span class="s2">&quot;link&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;add_edit_form&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Düzenle&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;show_as&quot;</span><span class="p">:</span><span class="s2">&quot;button&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;mode&quot;</span><span class="p">:</span><span class="s2">&quot;normal&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;delete&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Sil&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;show_as&quot;</span><span class="p">:</span><span class="s2">&quot;button&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;mode&quot;</span><span class="p">:</span><span class="s2">&quot;normal&quot;</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span><span class="s2">&quot;1234qwer&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="detay-ogesi">
<h6>Detay öğesi<a class="headerlink" href="#detay-ogesi" title="Bu başlığın kalıcı bağlantısı">¶</a></h6>
<p>Detay öğesinde gösterilmek istenen nesne anahtar değer olarak sıralanır. Örnekte bir kişi kaydının anahtar değerleri görülmektedir.</p>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;object&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;Cep Telefonu&quot;</span><span class="p">:</span><span class="s2">&quot;+90 (259) 6925396&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Cinsiyet&quot;</span><span class="p">:</span><span class="s2">&quot;Erkek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Soyadı&quot;</span><span class="p">:</span><span class="s2">&quot;Arsoy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TC No&quot;</span><span class="p">:</span><span class="s2">&quot;63488661696&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Adı&quot;</span><span class="p">:</span><span class="s2">&quot;Kutun&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Doğum Tarihi&quot;</span><span class="p">:</span><span class="s2">&quot;03.04.1969&quot;</span><span class="p">,</span>
        <span class="s2">&quot;E-Posta&quot;</span><span class="p">:</span><span class="s2">&quot;daslan@arsoy.com&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="ui-menu-ve-diger-ogeler">
<h6>UI Menu ve Diğer Öğeler<a class="headerlink" href="#ui-menu-ve-diger-ogeler" title="Bu başlığın kalıcı bağlantısı">¶</a></h6>
<div class="line-block">
<div class="line">Kullanıcı arayüzündeki menüler API tarafından dinamik olarak giriş yapan kullanıcının yetkileri baz alınarak oluşturulur.</div>
<div class="line"><code class="docutils literal"><span class="pre">/menu</span></code> url&#8217;ine yapılan sorguda dönen <code class="docutils literal"><span class="pre">ogrenci</span></code>, <code class="docutils literal"><span class="pre">personel</span></code>, <code class="docutils literal"><span class="pre">other</span></code> anahtarlarındaki değerler kategorilerine göre ayıklanarak menüye eklenir.</div>
</div>
<ul class="simple">
<li>Ulakbus için iki ana işlem yapılacak kullanıcı tipi bulunmaktadır. Bunlar personel ve öğrencidir. Bu anahtarların sorguda dönme durumuna göre yönetim panelinde öğrenci ve personel arama inputları görüntülenir.</li>
<li><code class="docutils literal"><span class="pre">quick_menu</span></code> anahtarında dönen menu nesneleri yönetim panelinde hızlı erişim için yer alır.</li>
</ul>
<div class="line-block">
<div class="line">Menu sorgusunda ayrıca <code class="docutils literal"><span class="pre">settings</span></code> ve <code class="docutils literal"><span class="pre">current_user</span></code> anahtarları dönmektedir.</div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">settings</span></code> anahtarı API tarafından kullanıcı arayüzü konfigürasyonu için kullanılacak değerleri içerir. Şu anda static url path bu ayarlarda yer almaktadır.</li>
<li><code class="docutils literal"><span class="pre">current_user</span></code> anahtarında giriş yapan kullanıcı bilgileri, rolleri, o anda hangi rolde işlem yaptığı ve kullanıcı avatarı yer almaktadır.</li>
</ul>
<div class="code json highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;ogrenci&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;kategori&quot;</span><span class="p">:</span><span class="s2">&quot;Seçime Uygun Görevler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;Devam Durumu&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span><span class="s2">&quot;DersKatilimi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="s2">&quot;ogrenci_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wf&quot;</span><span class="p">:</span><span class="s2">&quot;crud&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;personel&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;kategori&quot;</span><span class="p">:</span><span class="s2">&quot;Seçime Uygun Görevler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;Kimlik ve Iletisim Bilgileri&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span><span class="s2">&quot;Personel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="s2">&quot;object_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wf&quot;</span><span class="p">:</span><span class="s2">&quot;kimlik_ve_iletisim_bilgileri&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;static_url&quot;</span><span class="p">:</span><span class="s2">&quot;http://ulakbus.3s.ulakbus.net/&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;other&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;kategori&quot;</span><span class="p">:</span><span class="s2">&quot;Genel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;Personeller&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span><span class="s2">&quot;Personel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="s2">&quot;other_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wf&quot;</span><span class="p">:</span><span class="s2">&quot;crud&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;current_user&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;test_user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_staff&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;surname&quot;</span><span class="p">:</span><span class="s2">&quot;Stallman&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;roles&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="s2">&quot;Role BaseAbsRole | test_user&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="s2">&quot;Role W.C. Hero test_user&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="s2">&quot;BaseAbsRole&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_student&quot;</span><span class="p">:</span><span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;avatar&quot;</span><span class="p">:</span><span class="s2">&quot;http://ulakbus.3s.ulakbus.net/abcd.jpg&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;is_login&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;quick_menu&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;kategori&quot;</span><span class="p">:</span><span class="s2">&quot;Genel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;Programlar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span><span class="s2">&quot;Program&quot;</span><span class="p">,</span>
            <span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="s2">&quot;other_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wf&quot;</span><span class="p">:</span><span class="s2">&quot;crud&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="logout-islemi">
<h5>Logout İşlemi<a class="headerlink" href="#logout-islemi" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<div class="line-block">
<div class="line">Logout işlemi de Ulakbüs için bir iş akışıdır. Logout için <code class="docutils literal"><span class="pre">{wf:</span> <span class="pre">&quot;logout&quot;}</span></code> bilgisi API&#8217;a gönderilir. Gelen yanıt ardından websoket kapatılır, oturum sonlanır.</div>
</div>
</div>
<div class="section" id="gelistirmeye-baslamak">
<h5>Geliştirmeye Başlamak<a class="headerlink" href="#gelistirmeye-baslamak" title="Bu başlığın kalıcı bağlantısı">¶</a></h5>
<div class="line-block">
<div class="line">Yukarıda anlatılan API-UI veri karşılıkları gözönünde bulundurularak geliştirme yapmaya başlayabilirsiniz.</div>
</div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="yazilim_gelistirme_ve_test_dongusu.html" title="Yazılım Geliştirme ve Test Döngüsü"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme"
             >önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" >Geliştiriciler</a> &#187;</li> 
      </ul>
    </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <p>Tübitak, Ulakbim ULAKBÜS Bütünleşik Üniversite Sistemi, 2017, <a
                        href="http://ozgurlisanslar.org.tr/gpl/gpl-v3/" target="_blank"
                        style="text-decoration:underline; color:#fff;">GPL V3,</a> powered by <a
                        href="http://zetaops.io" target="_blank"
                        style="text-decoration:underline; color:#fff;">Zetaops</a></p>
            </div>
        </div>
    </footer>

  </body>
</html>