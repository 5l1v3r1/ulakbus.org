

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>ULAKBUS</title>

    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="Ulakbus 0.0.1 belgelendirme çalışması" href="wiki.html" />
    <link rel="up" title="Geliştiriciler" href="developers.html" />
    <link rel="next" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme" href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" />
    <link rel="prev" title="Geliştirme Ortamı Kurulumu(Frontend)" href="ulakbus_user_interface.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="/img/favicon.ico">

    <title>Ulakbüs</title>
    <link rel="stylesheet"
          href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Bootstrap Core CSS -->
    <link href="_static/css/bootstrap.css" rel="stylesheet">
    <link href="_static/css/style.css" rel="stylesheet">
    <link href="_static/css/roboto/roboto.css" rel="stylesheet">

    <script>
        /**
         * Check an href for an anchor. If exists, and in document, scroll to it.
         * If href argument omitted, assumes context (this) is HTML Element,
         * which will be the case when invoked by jQuery after an event
         */
        function scroll_if_anchor(href) {
            href = typeof(href) == "string" ? href : $(this).attr("href");

            // If href missing, ignore
            if (!href) return;

            // You could easily calculate this dynamically if you prefer
            var fromTop = 100;

            // If our Href points to a valid, non-empty anchor, and is on the same page (e.g. #foo)
            // Legacy jQuery and IE7 may have issues: http://stackoverflow.com/q/1593174
            var $target = $(href);

            // Older browsers without pushState might flicker here, as they momentarily
            // jump to the wrong position (IE < 10)
            if ($target.length) {
                $('html, body').animate({scrollTop: $target.offset().top - fromTop});
                if (history && "pushState" in history) {
                    history.pushState({}, document.title, window.location.pathname + href);
                    return false;
                }
            }
        }

        // When our page loads, check to see if it contains and anchor
        scroll_if_anchor(window.location.hash);

        // Intercept all anchor clicks
        $("body").on("click", "a[href^='#']", scroll_if_anchor);
    </script>
    </head>

    <body id="page-top" data-target=".navbar-fixed-top">
    <nav class="navbar ulakbus-navbar navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="row">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/index.html" class="logo"><img
                            src="http://www.ulakbus.org/ulakbus.png"></a>
                </div>

                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav navbar-right main-nav">



                        <li>
                            <a href="http://www.ulakbus.org/hakkinda.html">HAKKINDA</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/wiki.html">BELGELER</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/wiki/developers.html">KURULUM</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/destek.html">DESTEK</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/indir.html">İNDİR</a>
                        </li>
                        <li>
                            <a href="http://www.ulakbus.org/takip.html">NE OLUYOR?</a>
                        </li>
                        <li>
                            <a href="http://blog.zetaops.io" target="_blank">BLOG</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Fork me on github icons -->
    <a href="https://github.com/zetaops" target="_blank"><img id="forkme"
                                                              src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
                                                              alt="Fork me on GitHub"
                                                              data-canonical-src="_static/forkme_right_red.png"></a>


    <div id="doccontainer">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             accesskey="I">dizin</a></li>
        <li class="right" >
          <a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme"
             accesskey="N">sonraki</a> |</li>
        <li class="right" >
          <a href="ulakbus_user_interface.html" title="Geliştirme Ortamı Kurulumu(Frontend)"
             accesskey="P">önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" accesskey="U">Geliştiriciler</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="wiki.html">
              <img class="logo" src="_static/ulakbus.png" alt="Logo"/>
            </a></p>
  <h3><a href="wiki.html">İçindekiler Tablosu</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ulakbüs&#8217;ü Geliştirelim</a><ul>
<li><a class="reference internal" href="#gelistirme-ortaminin-kurulumu">Geliştirme ortamının kurulumu</a></li>
<li><a class="reference internal" href="#view-task-ve-model-dosyalarinin-konumlari">View, Task ve Model dosyalarının konumları</a></li>
<li><a class="reference internal" href="#is-akislarinin-tasarlanmasi">İş akışlarının tasarlanması.</a></li>
<li><a class="reference internal" href="#modellerin-tanimlanmasi">Modellerin tanımlanması.</a></li>
<li><a class="reference internal" href="#jsonform-ile-basit-bir-view-hazirlayalim">JsonForm ile basit bir view hazırlayalım</a></li>
<li><a class="reference internal" href="#ekleme-goruntuleme-duzenleme-ve-silme-islemleri-icin-crudview-kullanimi">Ekleme, görüntüleme, düzenleme ve silme işlemleri için CrudView kullanımı.</a></li>
<li><a class="reference internal" href="#crudview-i-genisletmek">CrudView&#8217;ı genişletmek</a></li>
</ul>
</li>
</ul>

  <h4>Önceki konu</h4>
  <p class="topless"><a href="ulakbus_user_interface.html"
                        title="önceki bölüm">Geliştirme Ortamı Kurulumu(Frontend)</a></p>
  <h4>Sonraki konu</h4>
  <p class="topless"><a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html"
                        title="sonraki bölüm">ZEngine ile İş Akışı Temelli Uygulama Geliştirme</a></p>
  <div role="note" aria-label="source link">
    <h3>Bu Sayfa</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ulakbusu-gelistirmek.txt"
            rel="nofollow">Kaynağı Göster</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Hızlı Arama</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Git" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Aranacak terimleri veya modül, sınıf ya da fonksiyon adını yazınız
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ulakbus-u-gelistirelim">
<h1>Ulakbüs&#8217;ü Geliştirelim<a class="headerlink" href="#ulakbus-u-gelistirelim" title="Bu başlığın kalıcı bağlantısı">¶</a></h1>
<p>Aşağıdaki adımları izleyerek Ulakbüs projesine öğrencilerin ders seçmesini sağlayan bir işlev eklemiş olacağız.</p>
<ul class="simple">
<li>Öğrenci seçebileceği derslerin listesini görüntüler.</li>
<li>Almak istediği dersleri seçer ve &#8220;kaydet&#8221; düğmesine basar.</li>
<li>Seçtiği derslerin listesini tekrar gözden geçirir ve &#8220;onay&#8221; düğmesine basar.</li>
<li>Dersleri onaylaması için öğrencinin danışmanına bir ileti gönderilir.</li>
<li>Danışman iletideki bağlantıya tıklayarak iş akışına katılır ve öğrencinin seçtiği dersleri görüntüler.</li>
<li>Onayla düğmesine basması durumunda, ders listesi onaylanmış olarak kaydedilir ve öğrenciye ders seçiminin danışmanı tarafından onaylandığı mesajı gider. İş akışı tamamlanmış olur.</li>
<li>Danışmanın bir dersi listeden çıkarması durumunda öğrenciye ileti gönderilerek tekrar ders seçmesi istenir.</li>
<li>Öğrenci ders listesini günceller ve tekrar onaylar.</li>
<li>Danışmana tekrar inceler, onaylama durumuna bağlı olarak akış sonlanır ya da başa döner.</li>
</ul>
<div class="section" id="gelistirme-ortaminin-kurulumu">
<h2>Geliştirme ortamının kurulumu<a class="headerlink" href="#gelistirme-ortaminin-kurulumu" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Geliştirmeye başlamak için öncelikle <strong>Camunda Modeller</strong>, <strong>git</strong> ve <strong>Vagrant</strong> araçlarına ihtiyacımız olacak.
Camunda Modeller ile iş akışı diagramlarımızı hazırlayacağız. (link eklenecek)
Ulakbüs projesinin parçası olarak, geliştiriciler için hazırlanan vagrant sanal makinası ile gerekli ortam hazır olarak gelmektedir. (belgeye link verilecek)</p>
</div>
<div class="section" id="view-task-ve-model-dosyalarinin-konumlari">
<h2>View, Task ve Model dosyalarının konumları<a class="headerlink" href="#view-task-ve-model-dosyalarinin-konumlari" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>View, task ve model modülleri, proje kök dizininde yer alan <code class="docutils literal"><span class="pre">views</span></code>, <code class="docutils literal"><span class="pre">tasks</span></code> ve <code class="docutils literal"><span class="pre">models</span></code>  dizinleri altında konumlanırlar.</p>
</div>
<div class="section" id="is-akislarinin-tasarlanmasi">
<h2>İş akışlarının tasarlanması.<a class="headerlink" href="#is-akislarinin-tasarlanmasi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Ulakbüs projesinin üzerine inşa edildiği ZEngine frameworkü BPMN 2.0 standardıyla tanımlanmış olan iş akışı ögelerinin uygulama işlevselliği için elzem olan kısımlarını desteklemektedir. Bunlardan UserTask, ServiceTask ve Exclusive (XOR) Gateway&#8217;ler en çok kullanacağımız ögelerin başında gelmektedir.</p>
<p>BPMN standardı bu öglerin temel işlev ve ilişkilerini tanımlamış olsa da, iş akışlarının işletilmesi noktasında birçok tercihi uygulama geliştiricilere bırakmıştır.</p>
<p>Yukarıda maddelendirdiğimiz iş akışının BPMN 2.0 uyumlu bir diagram şekline getirilmiş halini aşağıda görebilirsiniz.</p>
<a class=""
               data-lightbox="group-bf1ed7fc-4698-4f4d-ab28-de06a1f5f587"
               href="_images/du_bpmn_lecture_selection.png"
               title=""
               data-title=""
               ><img src="_images/du_bpmn_lecture_selection.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>Advisor lane&#8217;inin boş bir yerine tıklayarak bu lane&#8217;in özelliklerini görüntüleyebilirsiniz. Extensions bölümüne girebileceğiniz parametereler ve işlevleri aşağıda listelenmiştir.</p>
<a class=""
               data-lightbox="group-c27ccc21-507b-467f-b534-b9dc333d8d20"
               href="_images/du_bpmn_lane_properties.png"
               title=""
               data-title=""
               ><img src="_images/du_bpmn_lane_properties.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p><code class="docutils literal"><span class="pre">relations</span></code> parametresi iş akışında rol alan kullanıcıların birbirleri ile olan ilişkilerini kısıtlayıcı şekilde tanımlamak için kullanılır. Yukarıdaki örnekte <strong>advisor</strong> laneninin kullanıcısının student lane&#8217;inin kullanıcısının <strong>danisman</strong> ı olması gerektiği belirtilmiştir. Bu alana girilen parametrelerin geçerli Python kodu olması ve True mantıksal değerini döndürmesi gerekmektedir. Tanımlanması isteğe bağlıdır.</p>
<p><code class="docutils literal"><span class="pre">owners</span></code> parametresi tanımlandığı lane&#8217;in olası kullanıcılarını ifade etmek için kullanılır. İş akışı bir lane&#8217;den diğerine geçtiğinde, iş akışı motoru bu tanımlamanın işaret ettiği kullanıcılara bir ileti göndererek akışa katılmalarını sağlar.</p>
<p>Örneğimizde advisor lane&#8217;ini işletecek kişinin student lane&#8217;ini işleten kişinin danışmanı olması gerektiği kesin olarak belirtilmiştir. Bununla birlikte, bu alana birden fazla nesne döndürebilecek geçerli bir Python ifadesi girilmesi gerektiğinden, <strong>[student.ogrenci.danisman.personel]</strong> şeklinde tek ögeli bir liste şeklinde girilmiştir. Bu listenin elemanları ya <strong>User</strong> nesnesi olmalı ya da geriye ilgili user nesnesini döndüren bir <strong>get_user()</strong> metoduna sahip olmalıdırlar.</p>
<p><code class="docutils literal"><span class="pre">permissions</span></code> parametresi virgülle ayrılmış şekilde yetki kodları kabul etmektedir. İlgili lane&#8217;i işletecek kullanıcının bu yetkilere sahip olması koşulu aranacaktır. Sistemde halihazırda tanımlı olmayan yetkiler burada doğrudan kullanılıp update_permissions komutu ile otomatik olarak yetki tablosuna eklenebilir. <code class="docutils literal"><span class="pre">::</span> <span class="pre">TODO</span> <span class="pre">::</span></code></p>
</div>
<div class="section" id="modellerin-tanimlanmasi">
<h2>Modellerin tanımlanması.<a class="headerlink" href="#modellerin-tanimlanmasi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Yukarıda gösterdiğimiz &#8220;Öğrenci Ders Seçme&#8221; akışı için önceki bölümde ele aldığımız Student, Lecture ve Lecturer modellerini &#8220;lectures.py&#8221; gibi geçerli bir isimle models dizinine kaydedip, <code class="docutils literal"><span class="pre">models/__init__.py</span></code> içine import etmemiz yeterli olacaktır.</p>
</div>
<div class="section" id="jsonform-ile-basit-bir-view-hazirlayalim">
<h2>JsonForm ile basit bir view hazırlayalım<a class="headerlink" href="#jsonform-ile-basit-bir-view-hazirlayalim" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
</div>
<div class="section" id="ekleme-goruntuleme-duzenleme-ve-silme-islemleri-icin-crudview-kullanimi">
<h2>Ekleme, görüntüleme, düzenleme ve silme işlemleri için CrudView kullanımı.<a class="headerlink" href="#ekleme-goruntuleme-duzenleme-ve-silme-islemleri-icin-crudview-kullanimi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
</div>
<div class="section" id="crudview-i-genisletmek">
<h2>CrudView&#8217;ı genişletmek<a class="headerlink" href="#crudview-i-genisletmek" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="zengine-ile-is-akisi-temelli-uygulama-gelistirme.html" title="ZEngine ile İş Akışı Temelli Uygulama Geliştirme"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="ulakbus_user_interface.html" title="Geliştirme Ortamı Kurulumu(Frontend)"
             >önceki</a> |</li>
        <li class="nav-item nav-item-0"><a href="wiki.html">Ulakbus 0.0.1 belgelendirme çalışması</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="developers.html" >Geliştiriciler</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <p>Tübitak, Ulakbim ULAKBÜS Bütünleşik Üniversite Sistemi, 2015, <a
                        href="http://ozgurlisanslar.org.tr/gpl/gpl-v3/" target="_blank"
                        style="text-decoration:underline; color:#fff;">GPL V3,</a> powered by <a
                        href="http://zetaops.io" target="_blank"
                        style="text-decoration:underline; color:#fff;">Zetaops</a></p>
            </div>
        </div>
    </footer>

  </body>
</html>